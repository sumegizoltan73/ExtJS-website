Ext.define("Web.controller.Home",{extend:"Ext.app.Controller",stores:["Article","ArticleNews"],models:["Article"],views:["home.View"],init:function(){this.control({"contentpartial panel[name=homeContent]":{render:this.onContentRendered},"contentfooterpartial panel[name=homeContentFooter]":{render:this.onContentFooterRendered}})},onContentRendered:function(a){Ext.Web.Util.createArticles(a,this.getArticleStore(),{filterFn:function(b){return/home|all/.test(b.get("view"))&&b.get("target")==="content"},isAddSeparator:true})},onContentFooterRendered:function(a){Ext.Web.Util.createArticles(a,this.getArticleStore(),{filterFn:function(b){return/home|all/.test(b.get("view"))&&b.get("target")==="content-footer"},itemCallback:[{test:function(b){return/multicontent-officenews/.test(b.get("name"))&&b.get("target")==="content-footer"},fn:Ext.bind(this.onOfficeNewsRendered,this)},{test:function(b){return/multicontent-news/.test(b.get("name"))&&b.get("target")==="content-footer"},fn:Ext.bind(this.onNewsRendered,this)}]})},onOfficeNewsRendered:function(a){return Ext.Web.Util.createArticles(a,this.getArticleNewsStore(),{filterFn:function(b){return/home|all/.test(b.get("view"))&&b.get("target")==="content-footer-office-news"},tagArticleContainer:false,clsArticleContainer:false,isArticleItemsAsChildren:true})},onNewsRendered:function(a){return Ext.Web.Util.createArticles(a,this.getArticleNewsStore(),{filterFn:function(b){return/home|all/.test(b.get("view"))&&b.get("target")==="content-footer-multicontent-news"},tagArticleContainer:false,clsArticleContainer:false,isArticleItemsAsChildren:true})}});