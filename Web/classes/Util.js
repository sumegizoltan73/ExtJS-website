Ext.ns("Ext.Web");Ext.Web.Util=new function(){var a=this;Ext.apply(a,{config:{filterFn:function(b){return/home|all/.test(b.get("view"))&&b.get("target")==="content"},clsContainer:"web-x-column",clsArticleContainer:"x-container x-column x-container-default",clsTitle:"title",tagSeparator:"hr",tagContainer:"div",tagArticleContainer:"div",tagTitle:"h2",tagHtml:"div",fieldTitle:"title",fieldCls:"cls",fieldClsContainer:"clsContainer",fieldHtml:"html",fieldName:"name",fieldHref:"href",isAddSeparator:false,isSeparataFirst:false,isArticleItemsAsChildren:false,itemCallback:false},getLabel:function(i,h,b){var g="",d,e,c=h,f;if(!c){f=Web.getApplication();c=f.lang}e=b||Ext.data.StoreManager.lookup("LabelStore");if(e){d=this.findRecord(e,[{fieldName:"label",value:i},{fieldName:"lang",value:c}])}else{if(console){console.log('parameter "store" invalid for label: "'+i+'"')}}if(d){g=d.get("text")}return g},findRecord:function(f,b){var e,d,c=null;if(Array.isArray(b)){e=function(h,k){var j,g=(this.length>0);for(j=0;j<this.length;j++){g=g&&(h.get(this[j].fieldName)==this[j].value)}return g};d=f.findBy(e,b);if(d>-1){c=f.getAt(d)}}else{if(console){console.log('parameter "fields" isn\'t Array')}}return c},getLocationParam:function(e,b){var g,d,f,c;g=b||"";if(location.search){d=location.search.replace("?","&").split("&");for(c=0;c<d.length;c++){f=d[c].split("=");if(f[0].toLowerCase()===e){g=f[1]||b;break}}}return g},createArticles:function(d,e,f){var c,e,b={};Ext.apply(b,f,this.config);e.clearFilter(true);e.filter("lang",Web.getApplication().lang);e.filter([{filterFn:b.filterFn}]);if(d.body&&b.tagContainer){c=Ext.DomHelper.append(d.body,{tag:b.tagContainer,cls:b.clsContainer})}else{c=d}if(b.isArticleItemsAsChildren){c.children=[];c=this.createArticleItems(c,e,b)}else{this.createArticleItems(c,e,b)}return c},createArticleItems:function(b,c,d){c.each(function(l,j){var j,m,n,k,f,p,o,e,h,g=[];if((d.isSeparataFirst&&j<1)||(d.isAddSeparator)){g.push({tag:d.tagSeparator})}n=this.get(d.fieldTitle);if(n){g.push({tag:d.tagTitle,cls:d.clsTitle,html:n})}k=this.get(d.fieldHtml)||"";f=this.get(d.fieldName)||"";p=this.get(d.fieldCls);o=this.get(d.fieldClsContainer);if(k||f){h={tag:d.tagHtml};e=this.get(d.fieldHref);if(k){h.html=k}if(f){h.name=f}if(p){h.cls=p}if(e){if(/\{0\}/.test(e)){h.href=Ext.String.format(e,k)}else{h.href=e}}if(d.itemCallback){for(j=0;j<d.itemCallback.length;j++){if(d.itemCallback[j].test(this)){h=d.itemCallback[j].fn(h)}}}g.push(h);if(e){g.push({tag:"span",html:" "})}}if(d.tagArticleContainer){m={tag:d.tagArticleContainer,children:g};if(d.clsArticleContainer||o){m.cls=d.clsArticleContainer;if(!m.cls){m.cls=o}else{if(o){m.cls+=" "+o}}}if(d.isArticleItemsAsChildren){b.children.push(m)}else{Ext.DomHelper.append(b,m)}}else{if(d.isArticleItemsAsChildren){b.children.push(g);if(o){if(!b.cls){b.cls=o}else{b.cls=b.cls+" "+o}}}}});return b}})};